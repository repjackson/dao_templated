template(name='food')     
    .ui.stackable.padded.grid
        .sixteen.wide.column
            // if food_docs.count
            .ui.big.inline.header 
                // i.food.icon
                +i name='food'
                |#{food_docs.count} products
            +search_input model='food' field='title'
            +session_set key='food_view_filter' value='appetizers' icon='nachos'
            +session_set key='food_view_filter' value='soup' icon='soup-plate'
            +session_set key='food_view_filter' value='salad' icon='salad'
            +session_set key='food_view_filter' value='sandwiches' icon='sandwich'
            +session_set key='food_view_filter' value='pizza' icon='pizza'
            .ui.doubling.cards.scrolling
                each food_docs
                    +food_item


template(name='food_item')
    a.card.fly_right(href="/food/#{_id}") 
        img.ui.image(src="{{c.url image_id width=500 height=500 gravity='face' crop='fill'}}")
        .content
            .header #{title}
            .ui.large.label #{section}
            each tags
                .ui.basic.small.label #{this}

template(name='food_view')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .four.wide.column
                    a.ui.icon.button.fly_left(href="/food")
                        i.food.icon
                        |food
                    if can_edit
                        a.ui.icon.button.fly_down(href="/food/#{_id}/edit" title='edit product')
                            i.pencil.big.icon

                    .ui.inline.header 
                        +i name='food' cl='ui avatar image'
                        |food
                    // .ui.segment 
                    //     with post_product
                    //         a(href="/product/#{_id}")
                    //             img.ui.rounded.image(src="{{c.url image_id width=400 height=400}}")
                    //         a.ui.header(href="/product/#{_id}") #{title}
                    //         // - .ui.header #{cook_tip} cook tip
                    //         // .ui.header $#{post_total_transaction_amount} 
                    //         //     small total transaction amount
                    div
                    .ui.inline.header 
                        i.clock.icon
                        small added
                        strong #{when}
                        small by
                        strong #{_author_username}
                    +i name='tags' cl='ui avatar image'
                    each tags
                        .ui.label #{this}
                    +voting_full
                    +comments
                .six.wide.column
                    .ui.header #{title}
                    .ui.header 
                        i.business.icon
                        |#{company}
                    // if image_url
                    //     img.ui.inline.image(src=image_url)
                    if image_id
                        img.ui.inline.image(src="{{c.url image_id width=500 height=500 gravity='face' crop='fill'}}")
                    if in_dev
                        +print_this
                .six.wide.column
                    .ui.big.fluid.green.button.buy_food 
                        i.cart.icon
                        |buy for #{price_dollars}
                    .ui.header section: #{section}
                    .ui.header also by #{company}
                    .ui.header rating
                    +rating icon='beer' value='3'
                    
                    
                    .ui.header orders
template(name='rating')
    .ui.yellow.massive.rating(data-icon=icon data-rating=value)

template(name='food_edit')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .five.wide.column
                    .ui.inline.header
                        i.pencil.icon
                        | #{title}
                    a.ui.fluid.icon.green.button.fly_up(href="/food/#{_id}/" title='save food')
                        i.checkmark.big.icon
                    // a.ui.big.circular.icon.green.button.save_this(title='save')
                    +text_edit key='title' label='title' direct=true
                    +array_edit key='tags' label='tags' icon='tags' direct=true
                    +text_edit key='model' label='model' icon='database' direct=true
                    // +image_link_edit key='image_url' label='image link' icon='image'
                .five.wide.column
                    +image_edit key='image_id' label='image' icon='image'
                    +number_edit key='calories' label='calories' icon='cheese' direct=true
                    +number_edit key='price_dollars' label='price ($)' icon='money'
                    +html_edit key='body' label='body' direct=true
                    .ui.red.large.icon.button.delete_food(title='delete')
                        i.remove.icon   
                        // | delete
                .six.wide.column
                    +link_edit key='link' label='link' icon='link'
                    +text_edit key='section' label='menu section' icon='beer-recipe'
                    +key_value_set key='section' value='appetizers' icon='nachos'
                    +key_value_set key='section' value='soup' icon='soup-plate'
                    +key_value_set key='section' value='salad' icon='salad'
                    +key_value_set key='section' value='sandwiches' icon='sandwich'
                    +key_value_set key='section' value='pizza' icon='pizza'

template(name='drink_view')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .five.wide.column
                    a.ui.basic.big.button.fly_left(href="/drinks")
                        // i.drinks.icon
                        +i name='beer' cl='ui avatar image'
                        |drinks
                    if can_edit
                        a.ui.icon.basic.circular.button.fly_down(href="/drink/#{_id}/edit" title='edit product')
                            i.pencil.big.icon

                    .ui.inline.header 
                        +i name='beer' cl='ui avatar image'
                        strong #{title}
                        |drink
                    // .ui.segment 
                    //     with post_product
                    //         a(href="/product/#{_id}")
                    //             img.ui.rounded.image(src="{{c.url image_id width=400 height=400}}")
                    //         a.ui.header(href="/product/#{_id}") #{title}
                    //         // - .ui.header #{cook_tip} cook tip
                    //         // .ui.header $#{post_total_transaction_amount} 
                    //         //     small total transaction amount
                    div
                    .ui.header #{company}
                    .ui.inline.header 
                        i.clock.icon
                        small added
                        strong #{when}
                        small by
                    +link_view key='link'
                    div
                    +voting_full
                    +comments
                .six.wide.column
                    .ui.header #{title}
                    each tags   
                        .ui.basic.big.label #{this}
                    if image_url
                        img.ui.inline.image(src=image_url)
                    img.ui.inline.image(src="{{c.url image_id width=500 height=500 gravity='face' crop='fill'}}")
                    if in_dev
                        +print_this
                .five.wide.column
                    .ui.big.fluid.green.button.buy_drink
                        |buy for #{price_dollars}
                    .ui.header also by #{company}
                    .ui.header stats
                    .ui.header orders



template(name='drink_edit')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .six.wide.column
                    .ui.inline.header
                        i.pencil.icon
                        | #{title}
                    a.ui.fluid.icon.green.button.fly_up(href="/drink/#{_id}/" title='save product')
                        i.checkmark.big.icon
                    // a.ui.big.circular.icon.green.button.save_this(title='save')
                    +text_edit key='title' label='title' direct=true
                    +text_edit key='company' label='company' icon='business' direct=true
                    +array_edit key='tags' label='tags' icon='tags' direct=true
                    +text_edit key='model' label='model' icon='database' direct=true
                    +image_link_edit key='image_url' label='image link' icon='image'
                    +image_edit key='image_id' label='image' icon='image'
                    +number_edit key='price_dollars' label='price ($)' icon='money'
                .five.wide.column
                    +html_edit key='body' label='body' direct=true
                    +number_edit key='calories' label='calories' icon='cheese'
                    +float_edit key='abv' label='abv' icon='beer'
                    +text_edit key='city' label='city' icon='marker'
                    +text_edit key='state' label='state' icon='marker'
                .five.wide.column
                    +text_edit key='section' label='menu section'
                    +key_value_set key='section' value='gluten free' icon='no-gluten'
                    +key_value_set key='section' value='sour' icon='sour'
                    +key_value_set key='section' value='dark/boozy' icon='guiness-beer'
                    +key_value_set key='section' value='hoppy' icon='hops'
                    +key_value_set key='section' value='light/malty' icon='beer-glass'
                    +key_value_set key='section' value='belgian style/brett' icon='pint'

                    +link_edit key='link' label='link' icon='link'
                    .ui.red.large.icon.button.delete_post(title='delete')
                        i.remove.icon   
                        // | delete
                
