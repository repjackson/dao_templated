template(name='deliveries')
    .four.wide.column   
        .ui.header 
            +i name='truck'
            |deliveries
        .ui.header your default address
        .ui.icon.button.request_delivery
            i.plus.icon
    .scrolling.twelve.wide.column
        .ui.five.doubling.centered.cards
            each delivery_docs
                +delivery_item
                    
            
template(name='delivery_item')
    a.card.fly_right(href="/delivery/#{_id}") 
        img.ui.image(src="{{c.url image_id width=500 height=500 gravity='face' crop='fill'}}")
        .content
            .header #{title}
            .ui.basic.label #{section}
            each tags
                +flat_tag_picker


template(name='delivery_view')
    with current_doc
        .ui.stackable.padded.grid.scrolling
            .row
                .five.wide.column
                    .ui.header 
                        +i name='beer' cl='ui avatar image'
                        strong #{title}
                        a(href="https://www.google.com/search?q=#{title}" target='_blank' title='search')
                            i.grey.google.icon
                    +i name='tags'
                    each tags   
                        .ui.basic.big.label #{this}
                    a.ui.basic.big.button.fly_left(href="/deliveries")
                        // i.deliveries.icon
                        +i name='beer' cl='ui avatar image'
                        |deliveries
                    if can_edit
                        a.ui.icon.basic.circular.button.fly_down(href="/delivery/#{_id}/edit" title='edit product')
                            i.pencil.big.icon

                    // .ui.segment 
                    //     with post_product
                    //         a(href="/product/#{_id}")
                    //             img.ui.rounded.image(src="{{c.url image_id width=400 height=400}}")
                    //         a.ui.header(href="/product/#{_id}") #{title}
                    //         // - .ui.header #{cook_tip} cook tip
                    //         // .ui.header $#{post_total_transaction_amount} 
                    //         //     small total transaction amount
                    div
                    .ui.header #{company}
                    .ui.inline.header 
                        i.clock.icon
                        small added
                        strong #{when}
                        small by
                    +link_view key='link'
                    div
                    +voting_full
                    +comments
                .six.wide.column
                    if image_url
                        img.ui.inline.image(src=image_url)
                    img.ui.fluid.image(src="{{c.url image_id }}")
                    if in_dev
                        +print_this
                .five.wide.column
                    .ui.big.fluid.green.button.buy_delivery
                        |buy for $#{price_dollars}
                        i.chevron.right.icon
                    .ui.header 
                        +i name='business'
                        |also by #{company}
                    .ui.header 
                        +i name='caloric-energy'
                        |#{calories} calories
                    .ui.header
                        +i name='visible'
                        |#{views} views
                    .ui.header
                        +i name='guinness-beer'
                        |#{ibu} ibu
                    .ui.header #{abv}% abv
                    +product_orders
                    +product_fans
                    +doc_images
                    +reviews
                    
                    .ui.basic.circular.icon.button.add_order
                        i.plus.icon






template(name='delivery_edit')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .six.wide.column
                    .ui.inline.header
                        i.pencil.icon
                        | #{title}
                    a.ui.fluid.icon.green.button.fly_up(href="/delivery/#{_id}/" title='save product')
                        i.checkmark.big.icon
                    // a.ui.big.circular.icon.green.button.save_this(title='save')
                    +text_edit key='title' label='title' direct=true
                    +text_edit key='company' label='company' icon='business' direct=true
                    +array_edit key='tags' label='tags' icon='tags' direct=true
                    if in_dev
                        +text_edit key='model' label='model' icon='database' direct=true
                    // +image_link_edit key='image_url' label='image link' icon='image'
                    +image_edit key='image_id' label='image' icon='image'
                    +number_edit key='price_dollars' label='price ($)' icon='money'
                .five.wide.column
                    +html_edit key='body' label='body' direct=true
                    +number_edit key='calories' label='calories' icon='cheese'
                    +float_edit key='abv' label='abv' icon='beer'
                    +number_edit key='ibu' label='ibu' icon='guinness'
                    +text_edit key='city' label='city' icon='marker'
                    +text_edit key='state' label='state' icon='marker'
                .five.wide.column
                    +text_edit key='section' label='menu section'
                    // +key_value_set key='section' value='gluten free' icon='no-gluten'
                    // +key_value_set key='section' value='sour' icon='sour'
                    // +key_value_set key='section' value='dark/boozy' icon='guinness-beer'
                    // +key_value_set key='section' value='hoppy' icon='hops'
                    // +key_value_set key='section' value='light/malty' icon='beer-glass'
                    // +key_value_set key='section' value='belgian style/brett' icon='pint'

                    // +link_edit key='link' label='link' icon='link'
                    .ui.red.large.icon.button.delete_post(title='delete')
                        i.remove.icon   
                        // | delete
